(this["webpackJsonpcovid-map-1653033"]=this["webpackJsonpcovid-map-1653033"]||[]).push([[0],{192:function(e,t,a){e.exports=a(400)},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},207:function(e,t,a){},225:function(e,t,a){},400:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),c=a(14),r=a.n(c),i=(a(197),a(198),a(63)),o=a(15),s=a(40),m=(a(199),function(e){var t=e.patients,a=e.onClickMarker,n=e.selectedPatient;return l.a.createElement(s.c,{id:"script-loader",googleMapsApiKey:"AIzaSyBCZ5at1ctI-CxNBOt5xiWrktPaWAWXD8s"},l.a.createElement(s.a,{id:"GoogleMap",mapContainerStyle:{height:"600px",width:"100%"},center:n?{lat:n.lat,lng:n.lng}:{lat:10.762693,lng:106.682731},zoom:n?12:6},t.map((function(e,t){return e===n?l.a.createElement("div",{key:t},l.a.createElement(s.d,{position:{lat:e.lat,lng:e.lng},onClick:function(){return a(e)}}),l.a.createElement("div",null,l.a.createElement(s.b,{position:{lat:e.lat,lng:e.lng}},l.a.createElement("div",null,l.a.createElement("p",null,e.name),l.a.createElement("p",null,e.address))))):l.a.createElement("div",{key:t},l.a.createElement(s.d,{position:{lat:e.lat,lng:e.lng},onClick:function(){return a(e)}}))}))))}),u=(a(200),a(92)),d=(a(201),Object(n.memo)((function(e){var t=e.patients,a=e.itemIndex,c=e.onClickPatient,r=Object(n.useRef)(),i=Object(n.memo)((function(e){var t=e.data,a=e.index,n=e.style,c=t.itemIndex===a?"PatienIndicator Highlight":"PatientIndicator";return l.a.createElement("button",{key:a,className:c,onClick:function(){return t.onClickPatient(t.patients[a])},style:n},t.patients[a].name)}),u.b),o=t?Object.keys(t).length:0,s=Object.assign({},{patients:t},{onClickPatient:c},{itemIndex:a});return Object(n.useEffect)((function(){a&&r.current.scrollToItem(a,"smart")})),l.a.createElement(u.a,{className:"List",height:300,itemCount:o,itemSize:50,width:"100%",ref:r,itemData:s},i)}))),f=(a(202),Object(n.memo)((function(e){var t=e.patient,a=t?t.verifyDate.substring(0,10):"";return l.a.createElement(n.Fragment,null,l.a.createElement("div",null,l.a.createElement("span",null,"Name: "),t?t.name:""),l.a.createElement("div",null,l.a.createElement("span",null,"Address: "),t?t.address:""),l.a.createElement("div",null,l.a.createElement("span",null,"Patient Group: "),t?t.patientGroup:""),l.a.createElement("div",null,l.a.createElement("span",null,"Note: "),t?t.note:""),l.a.createElement("div",null,l.a.createElement("span",null,"Verify Date: "),a))}))),E=a(412),p=a(26),v=a.n(p),b=(a(203),function(e){var t=e.handleSlider,a=Object(n.useState)(0),c=Object(o.a)(a,2),r=c[0],i=c[1],s=Object(n.useState)(!1),m=Object(o.a)(s,2),u=m[0],d=m[1],f=Object(n.useState)(1e3),p=Object(o.a)(f,2),b=p[0],g=p[1],h=Object(n.useRef)(),y=Object(n.useCallback)((function(){var e=v()(k).add(r,"days").format("YYYY-MM-DDT00:00:00");t(e),i(r+1)}),[r,t]),D=v()(new Date).format("YYYY-MM-DDT00:00:00"),k="2019-12-08T00:00:00",N=v()(D).diff(k,"days");Object(n.useEffect)((function(){if(!0===u){var e=setInterval(y,b);return function(){clearInterval(e)}}}),[u,y,b]),Object(n.useEffect)((function(){r>N&&(i(N),d(!1))}),[r,N]);var O=[{value:0,label:v()(k).format("DD/MM/YYYY")},{value:N,label:v()(D).format("DD/MM/YYYY")}],j=u?"PlayButton pause":"PlayButton";return console.log("SliderBar rendering..."),l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"SliderSection"},l.a.createElement("div",{className:"ButtonArea"},l.a.createElement("button",{className:j,onClick:function(){d(!u)}})),l.a.createElement(E.a,{className:"Slider",classes:{valueLabel:"Label",rail:"Rail",track:"Track",markLabel:"MarkLabel"},value:r,step:1,valueLabelDisplay:"on",valueLabelFormat:function(e){var t=v()(k).add(e,"days").format("DD/MM/YYYY");return"".concat(t)},marks:O,onChange:function(e,a){var n=v()(k).add(r,"days").format("YYYY-MM-DDT00:00:00");t(n),!0===u&&d(!1),i(a)},min:0,max:N}),l.a.createElement("div",{className:"Speed"},l.a.createElement("label",null,"Choose speed: "),l.a.createElement("select",{ref:h,defaultValue:1e3},l.a.createElement("option",null,"100"),l.a.createElement("option",null,"250"),l.a.createElement("option",null,"500"),l.a.createElement("option",null,"750"),l.a.createElement("option",null,"1000"),l.a.createElement("option",null,"1250"),l.a.createElement("option",null,"1500"),l.a.createElement("option",null,"2000")),l.a.createElement("button",{onClick:function(){var e=h.current.value;g(e)}},"OK"))))}),g=(a(207),function(e){var t=e.children,a=e.active?"LinkContainer active":"LinkContainer";return l.a.createElement("div",{className:a},t)}),h=a(24),y=a(44),D=a.n(y),k=function(){var e=Object(n.useState)({patientsData:[],patientSlider:[]}),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),s=Object(o.a)(r,2),u=s[0],E=s[1];Object(n.useEffect)((function(){D.a.get("https://cors-anywhere.herokuapp.com/maps.vnpost.vn/apps/covid19/api/patientapi/list").then((function(e){var t=e.data.data.filter((function(e){return e.verifyDate<="2019-12-08T00:00:00"})).sort((function(e,t){return new Date(e.verifyDate)>new Date(t.verifyDate)?-1:new Date(e.verifyDate)<new Date(t.verifyDate)?1:0})).map((function(e,t){return Object(i.a)({},e,{index:t})}));c({patientsData:e.data.data,patientSlider:t})}))}),[]);return 0===a.patientsData.length?l.a.createElement("div",{className:"Loading"},"Loading..."):l.a.createElement(n.Fragment,null,l.a.createElement("section",{className:"Navigation"},l.a.createElement(h.b,{to:"/",className:"Link"},l.a.createElement(g,{active:!0},"Covid19 Map")),l.a.createElement(h.b,{to:"/stats",className:"Link"},l.a.createElement(g,{active:!1},"Covid19 Stats"))),l.a.createElement("div",{className:"Container"},l.a.createElement("section",{className:"MapView"},l.a.createElement(m,{patients:a.patientSlider,onClickMarker:function(e){E(e)},selectedPatient:u})),l.a.createElement("section",{className:"DashBoard"},l.a.createElement("div",{className:"DashBoard-Title"},"DashBoard"),l.a.createElement("div",{className:"PatientInfo"},l.a.createElement("div",{className:"title"},"Patient Info"),l.a.createElement(f,{patient:u})),l.a.createElement("div",null,l.a.createElement("div",{className:"title"},"List View"),l.a.createElement(d,{patients:a.patientSlider,itemIndex:u?u.index:null,onClickPatient:function(e){E(e)}})))),l.a.createElement("div",{className:"Container"},l.a.createElement("section",{className:"SliderBar"},l.a.createElement(b,{handleSlider:function(e){var t=a.patientsData.filter((function(t){return t.verifyDate<=e}));if(t.length!==a.patientSlider.length){var n=t.sort((function(e,t){return new Date(e.verifyDate)>new Date(t.verifyDate)?-1:new Date(e.verifyDate)<new Date(t.verifyDate)?1:0})).map((function(e,t){return Object(i.a)({},e,{index:t})}));c(Object(i.a)({},a,{patientSlider:n}))}}}))))},N=(a(225),a(7)),O=function(){var e=Object(n.useState)(null),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(n.useState)(null),i=Object(o.a)(r,2),s=i[0],m=i[1];return Object(n.useEffect)((function(){D.a.get("https://td.fpt.ai/corona/corona-total.json").then((function(e){var t=Object.keys(e.data).map((function(t){return{date:t,infected:e.data[t][0],dead:e.data[t][1],cured:e.data[t][2]}}));c(t)})),D.a.get("https://td.fpt.ai/corona/corona-chart-vn.json").then((function(e){var t=Object.keys(e.data).map((function(t){return{date:t,infected:e.data[t][0],suspected:e.data[t][1],cured:e.data[t][2]}}));m(t)}))}),[]),null===a||null===s?l.a.createElement("div",{className:"Loading"},"Loading..."):l.a.createElement(n.Fragment,null,l.a.createElement("section",{className:"Navigation"},l.a.createElement(h.b,{to:"/",className:"Link"},l.a.createElement(g,{active:!1},"Covid19 Map")),l.a.createElement(h.b,{to:"/stats",className:"Link"},l.a.createElement(g,{active:!0},"Covid19 Stats"))),l.a.createElement("div",{className:"Container"},l.a.createElement("section",{className:"Chart"},l.a.createElement("div",{className:"Title"},"COVID19 Statistics of Viet Nam from Dec 08 2019 to now"),l.a.createElement(N.d,{width:600,height:500,data:s,margin:{top:5,right:30,left:20,bottom:5}},l.a.createElement(N.a,{strokeDasharray:"3 3"}),l.a.createElement(N.f,{dataKey:"date"}),l.a.createElement(N.g,null),l.a.createElement(N.e,null),l.a.createElement(N.b,null),l.a.createElement(N.c,{type:"monotone",dataKey:"infected",stroke:"#8884d8"}),l.a.createElement(N.c,{type:"monotone",dataKey:"suspected",stroke:"#ff0000"}),l.a.createElement(N.c,{type:"monotone",dataKey:"cured",stroke:"#82ca9d"}))),l.a.createElement("section",{className:"Chart"},l.a.createElement("div",{className:"Title"},"COVID19 Statistics of World from Dec 08 2019 to now"),l.a.createElement(N.d,{width:600,height:500,data:a,margin:{top:5,right:30,left:20,bottom:5}},l.a.createElement(N.a,{strokeDasharray:"3 3"}),l.a.createElement(N.f,{dataKey:"date"}),l.a.createElement(N.g,null),l.a.createElement(N.e,{payload:[{name:"05-01",value:12,unit:"kg"}]}),l.a.createElement(N.b,null),l.a.createElement(N.c,{type:"monotone",dataKey:"infected",stroke:"#8884d8"}),l.a.createElement(N.c,{type:"monotone",dataKey:"dead",stroke:"#ff0000"}),l.a.createElement(N.c,{type:"monotone",dataKey:"cured",stroke:"#82ca9d"})))))},j=a(23),C=function(e){return l.a.createElement(h.a,null,l.a.createElement(j.c,null,l.a.createElement(j.a,{exact:!0,path:"/stats"},l.a.createElement(O,null)),l.a.createElement(j.a,{exact:!0,path:"/"},l.a.createElement(k,null)),l.a.createElement(j.a,null,l.a.createElement("div",{className:"PNF"},"Page Not Found"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(C,null),","),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[192,1,2]]]);
//# sourceMappingURL=main.676818bd.chunk.js.map